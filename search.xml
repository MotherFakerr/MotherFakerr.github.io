<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>使用hexo+github建立个人博客</title>
    <url>/2023/06/09/2023-06-09-%E4%BD%BF%E7%94%A8hexo-github%E5%BB%BA%E7%AB%8B%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/2023-06-09-%E4%BD%BF%E7%94%A8hexo-github%E5%BB%BA%E7%AB%8B%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<div style="display: flex; flex-direction: row; align-items: center">
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-1.png" width="15%" height="15%"/>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-13.png" width="30%" height="30%" />
 </div>
<p>用github搭建个人博客不需要考虑购买服务器，注册域名以及备案等等。本文介绍使用开源框架hexo来生成个人博客，整个流程不需要有前端或者后端基础，只要会用git和代码编辑器就行。</p>
<span id="more"></span>
<h1 id="1github创建repo"><a class="markdownIt-Anchor" href="#1github创建repo"></a> 1.github创建repo</h1>
<p>首先需要在github上新建一个repo，repo名<strong>必须</strong>是[你的 github 账号].github.io。<br/><br>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-3.png" /><br>
创建完后进入repo页面，进入setting，进入pages，确认配置。这里这样设置的含义是你的github个人博客会从分支上部署，而部署的分支是master分支。具体部署分支可以根据个人喜好修改。<br/><br>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-4.png" /><br/></p>
<h1 id="2下载nodejs"><a class="markdownIt-Anchor" href="#2下载nodejs"></a> 2.下载Node.js</h1>
<p>下载地址：<a href="https://nodejs.org/en">https://nodejs.org/en</a><br>
傻瓜式安转即可<br/><br>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-5.png" /><br>
安装完后打开本地代码编辑器，此教程内以vscode为例，在命令行内输入node -v和npm -v，如果跳出了对应版本则表示安装成功。</p>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-0.png" />
<h1 id="3创建本地环境"><a class="markdownIt-Anchor" href="#3创建本地环境"></a> 3.创建本地环境</h1>
<p>本地创建一个空文件夹用于存放博客原始文件，用vscode打开该文件夹。</p>
<p>进入命令行输入:<br>
1.全局下载hexo脚手架</p>
<pre><code>npm install -g hexo-cli
</code></pre>
<p>2.初始化项目 <strong>(注意！！！此步必须在空文件夹中，否则会报错)</strong></p>
<pre><code>hexo init
</code></pre>
<p>3.启动本地博客项目</p>
<pre><code>hexo s
或
hexo server
</code></pre>
<p>4.浏览器地址栏输入 <a href="http://localhost:4000/">http://localhost:4000/</a> 如果看到以下画面，恭喜你已经成功创建了一个本地博客</p>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-6.png" />
<h1 id="4发布博客"><a class="markdownIt-Anchor" href="#4发布博客"></a> 4.发布博客</h1>
<p>完成上述步骤后，你已经成功创建了一个本地博客，但是想要让其他人通过网络访问你还需要把你的本地博客发布到git上。</p>
<p>首先进入博客项目根目录下的_config.yml文件，修改deploy栏的配置。repository需要修改成该教程第一步创建的repo地址（最好填写ssh地址），branch需要修改成第一步内github pages设置的发布分支 <strong>（默认是main，按自己喜好命名保持一致即可）</strong>。</p>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-11.png" />
<p>进入命令行输入:<br>
1.安装hexo发布库</p>
<pre><code>npm install hexo-deployer-git --save
</code></pre>
<p>2.生成本地发布文件</p>
<pre><code>hexo g
或
hexo generate
</code></pre>
<p>3.发布</p>
<pre><code>hexo d
或
hexo deploy
</code></pre>
<p>4.浏览器地址栏输入第一步内的repo名， <strong>[你的 github 账号].github.io</strong>， 就能看到线上的博客啦</p>
<h1 id="5保存博客原始代码"><a class="markdownIt-Anchor" href="#5保存博客原始代码"></a> 5.保存博客原始代码</h1>
<p>进入你github上的代码repo你会发现代码结构和本地的代码完全不一样，这是因为本地存放的是博客原始代码，而线上的是打包过后的代码。后续对博客进行编辑都是在原始代码上进行修改，然后再打包发布到线上。因此我们还需要维护一个原始代码的repo。</p>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-2.png" />
<p>1.在本地原始代码的根目录创建.gitignore文件，输入</p>
<pre><code>node_modules/
.deploy_git/
*.lock
</code></pre>
<p>这样上传代码到git的时候就不会把已经安装的依赖项上传，以减小repo的大小。</p>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-8.png" />
<p>2.git上创建新的repo（名称随意），并将本地代码上传至git，推荐用红框内的方式</p>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-7.png" />
<p>3.完成后可以将该repo设置成private，至此，你就拥有了一个博客原始文件repo和一个博客页面展示repo了，大功告成</p>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-9.png" />
<h1 id="6建议"><a class="markdownIt-Anchor" href="#6建议"></a> 6.建议</h1>
<ol>
<li>
<p>运行<code>hexo g</code>后会发现本地代码库出现了一个public文件夹，该文件夹内存放的就是打包后的发布到博客展示repo的代码，该文件夹最好不要上传到原始代码的repo，可以使用<code>hexo clean</code>清除该文件夹，最好每次发布完成后都运行一下。<br>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-10.png" /></p>
</li>
<li>
<p>每次发布博客都需要依次运行<code>hexo g</code>,<code>hexo d</code>, <code>hexo clean</code>三个命令是不是觉得有点麻烦。可以在博客原始代码的根目录的package.json中的scripts中添加一行：<code>publish: &quot;hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy &amp;&amp; hexo clean&quot;</code><strong>（上一行末尾注意添加逗号）</strong>。然后使用<code>npm run publish</code>来一键发布。（publish可换成任意单词）</p>
</li>
</ol>
<img src="/2023/06/09/2023-06-09-使用hexo-github建立个人博客/2023-06-09-使用hexo-github建立个人博客/pasted-12.png" />
<ol start="3">
<li>
<p>操作中如果出现OpenSSL SSL_read: Connection was reset, errno 10054或者Failed to connect to <a href="http://github.com">github.com</a> port 443: Timed out等报错，可以尝试在vscode命令行中输入<code>git config --global --unset http.proxy</code>和<code>git config --global --unset https.proxy</code>，或者在window命令行中输入<code>ipconfig/flushdns</code>，然后再次尝试。</p>
</li>
<li>
<p>若发布的时候出现git@github.com: Permission denied (publickey)，可参考<a href="https://blog.csdn.net/helloasimo/article/details/123778112">https://blog.csdn.net/helloasimo/article/details/123778112</a></p>
</li>
</ol>
<h1 id="7相关文章"><a class="markdownIt-Anchor" href="#7相关文章"></a> 7.相关文章</h1>
<p><a href="/2023/06/14/2023-06-14%E4%BD%BF%E7%94%A8hexo%E5%86%99%E6%96%87%E7%AB%A0">使用hexo写文章</a><br>
hexo主题ocean推荐(待办)</p>
]]></content>
      <categories>
        <category>文章</category>
        <category>博客</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>使用hexo写文章</title>
    <url>/2023/06/14/2023-06-14-%E4%BD%BF%E7%94%A8hexo%E5%86%99%E6%96%87%E7%AB%A0/2023-06-14-%E4%BD%BF%E7%94%A8hexo%E5%86%99%E6%96%87%E7%AB%A0/</url>
    <content><![CDATA[<p>首先对于博客来说，有<strong>page</strong>和<strong>post</strong>两种不同类型的文章，区别如下：</p>
<ol>
<li>
<p>page：通常是静态的、永久性的内容，它们用于呈现不经常变化的信息。其创建通常是为了提供持久性和易于导航的信息。如本博客右边栏的 <em>关于</em> 就是一篇page。</p>
</li>
<li>
<p>post：通常是网站中的动态内容，它们按时间顺序排列，以反映最新的更新。其可以有不同的分类或标签，以便组织和检索相关内容。如 <em>本文</em> 及 <em>主页</em>，<em>归档</em> 下的所有文章都是post。</p>
</li>
</ol>
<span id="more"></span>
<h2 id="1创建post"><a class="markdownIt-Anchor" href="#1创建post"></a> 1.创建post</h2>
<p>在命令行下输入</p>
<pre><code>hexo new post [文章名]
或
hexo new [文章名]
</code></pre>
<p>博客代码根目录下的<code>source/_post/</code>下面会创建一个叫 <strong>[文章名].md</strong> 的文件。<br>
所有的post文章都需要放在_post文件夹下，_post文件夹下可自由创建子文件夹。</p>
<img src="/2023/06/14/2023-06-14-使用hexo写文章/2023-06-14-使用hexo写文章/pasted-0.png" />
<p>生成的md文件内包含了文件头信息，可以自己设置文章标题，作者，时间，标签，分类等信息。</p>
<img src="/2023/06/14/2023-06-14-使用hexo写文章/2023-06-14-使用hexo写文章/pasted-1.png" />
<p>设置完后文章在博客中的预览如下</p>
<img src="/2023/06/14/2023-06-14-使用hexo写文章/2023-06-14-使用hexo写文章/pasted-2.png" />
<h2 id="2创建page"><a class="markdownIt-Anchor" href="#2创建page"></a> 2.创建page</h2>
<p>在命令行下输入</p>
<pre><code>hexo new page [文章名]
</code></pre>
<p>此操作会在<code>_post</code>文件夹平级的位置创建<code>[文章名]/index.md</code></p>
<img src="/2023/06/14/2023-06-14-使用hexo写文章/2023-06-14-使用hexo写文章/pasted-3.png" />
<p>和post不同的是，我们无法在博客的主页直接看到page，需要设置menu信息。对于hexo默认主题，需要在根目录下的_config.landscape.yml中添加</p>
<pre><code>menu:
	[菜单名]: [文章名]/
</code></pre>
<p>菜单名是页面上显示的文字内容，文章名则为刚创建的page所在的文件夹的名字</p>
<p>设置好后重新运行<code>hexo s</code>刷新页面，就能发现菜单栏多了一项，点击就能进入刚添加的page</p>
<img src="/2023/06/14/2023-06-14-使用hexo写文章/2023-06-14-使用hexo写文章/pasted-4.png" />
<h2 id="3md文件填写"><a class="markdownIt-Anchor" href="#3md文件填写"></a> 3.md文件填写</h2>
<p>md全称Markdown，拥有一套书写规范。详细语法可在 <a href="http://markdown.p2hp.com/">Markdown 中文网</a> 查看。<br>
书写过程中页面会进行热更新，可以实时查看效果。</p>
]]></content>
      <categories>
        <category>文章</category>
        <category>博客</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>JS 垃圾回收机制</title>
    <url>/2024/01/02/2024-01-02-JS%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/2024-01-02-JS%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<p>当我们创建对象时，js 会在内存空间开辟地址来存放这个对象的内容。随着软件的运行，创建的对象会越来越多，而当新创建的对象不断添加，不再被使用的老对象却没有被及时清理时，内存占用就会越来越多，造成程序的运行缓慢直到崩溃。这个过程就称为<strong>内存泄漏(Memory Leak)</strong> 。</p>
<span id="more"></span>
<h1 id="一-垃圾回收算法"><a class="markdownIt-Anchor" href="#一-垃圾回收算法"></a> 一. 垃圾回收算法</h1>
<p><strong>垃圾回收(Garbage Collection, 简称 GC)</strong> 便是起到清理内存中不再用到的资源的手段。在一些编程语言如 C++中，程序员需要时刻关注内存使用并在适当的时候手动清理。而在 JS 中，浏览器会启用一个垃圾回收器，每过一段时间便会寻找不被使用的资源并清理，这个过程是隐藏且自动的。目前前端使用的垃圾回收机制主要有两种：<strong>引用计数法</strong>和<strong>标记清除法</strong>。</p>
<h2 id="11-引用计数法reference-counting"><a class="markdownIt-Anchor" href="#11-引用计数法reference-counting"></a> 1.1 引用计数法(Reference counting)</h2>
<h3 id="111-原理"><a class="markdownIt-Anchor" href="#111-原理"></a> 1.1.1 原理 ：</h3>
<p>当新变量指向对象时，该对象引用计数+1。当某一变量不再指向该对象时，引用计数-1。当引用计数为 0，清理该对象。<br>
<img src="/2024/01/02/2024-01-02-JS垃圾回收机制/2024-01-02-JS垃圾回收机制/images/pasted-2.png" /></p>
<p>以图 1 为例，在 function 中创建对象以及指向该对象的两个变量，该对象同时被两个变量所引用，因此引用计数为 2。图 2 展示了退出 function 块级作用域的状态，此时 a，b 变量都被清除，对于 Object 的引用自然也被清除，Object 没有被任何东西引用，因此接下来会被垃圾回收。</p>
<h3 id="112-问题"><a class="markdownIt-Anchor" href="#112-问题"></a> 1.1.2 问题：</h3>
<p>引用计数法无法处理循环引用问题。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function () &#123;</span><br><span class="line">  const a = new ObjectA();</span><br><span class="line">  const b = new ObjectB();</span><br><span class="line">  // ObjectA, ObjectB被创建，引用计数都为1</span><br><span class="line">  a.object = b;</span><br><span class="line">  b.object = a;</span><br><span class="line">  // ObjectA, ObjectB互相引用，引用次数各+1都为2</span><br><span class="line">&#125;</span><br><span class="line">// 离开块级作用域，临时变量a,b被清除，ObjectA, ObjectB的引用次数各-1 = 1</span><br></pre></td></tr></table></figure>
<img src="/2024/01/02/2024-01-02-JS垃圾回收机制/2024-01-02-JS垃圾回收机制/images/pasted-0.png" />
<p>图 3 展示了 function 块内状态，ObjectA，ObjectB 除去变量 a，b 的引用外还有彼此间的一个引用，此时引用计数都为 2。而进入图 4 的状态后，来自临时变量 a，b 的引用被清除，Object 彼此间的引用仍保留。从外部来看，没有任何方法能够访问到这俩 Object，但是由于他们的引用计数不为 0，因此无法回收掉这块无效占用的内存。</p>
<h2 id="12-标记清除法mark-sweep"><a class="markdownIt-Anchor" href="#12-标记清除法mark-sweep"></a> 1.2 标记清除法(mark-sweep)</h2>
<p>标记清除法的关键字是可达性。在引用计数法最后一个例子中，互相引用的 ObjectA 和 ObjectB 无法被外部变量访问，处于不可达状态。与引用计数法通过计算引用次数不同，标记清除法会使得浏览器清空所有不可达的资源。标记清楚法能够很好的解决引用计数法造成的循环引用的问题，因此现阶段大部分主流浏览器都是使用的引用计数法。</p>
<h3 id="121-原理"><a class="markdownIt-Anchor" href="#121-原理"></a> 1.2.1 原理：</h3>
<img src="/2024/01/02/2024-01-02-JS垃圾回收机制/2024-01-02-JS垃圾回收机制/images/pasted-1.png" />
<p>标记清除分为三个阶段：</p>
<ol>
<li>给所有进入环境的资源打上标记</li>
<li>从根（一般指全局变量）开始通过引用链访问所有可达的对象并清除标记</li>
<li>删除所有仍拥有标记的资源。</li>
</ol>
<h1 id="二-链接"><a class="markdownIt-Anchor" href="#二-链接"></a> 二. 链接</h1>
<a href="/2024/01/02/2024-01-02-%E5%BC%BA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%BC%B1%E5%BC%95%E7%94%A8/2024-01-02-%E5%BC%BA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%BC%B1%E5%BC%95%E7%94%A8/" title="强引用，弱引用">强引用，弱引用传送门</a>  
<br/>
<a href="/2024/01/02/2024-01-02-weakMap,%20weakSet,%20weakRef/2024-01-02-weakMap,%20weakSet,%20weakRef/" title="weakMap, weakSet, weakRef">[weakSet, weakMap, weakRef 传送门]</a>]]></content>
      <categories>
        <category>文章</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>强引用，弱引用</title>
    <url>/2024/01/02/2024-01-02-%E5%BC%BA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%BC%B1%E5%BC%95%E7%94%A8/2024-01-02-%E5%BC%BA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%BC%B1%E5%BC%95%E7%94%A8/</url>
    <content><![CDATA[<blockquote>
<p>此概念与JS垃圾回收机制紧密相关：<a href="/2024/01/02/2024-01-02-JS%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/2024-01-02-JS%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/" title="JS 垃圾回收机制">JS垃圾回收机制文档传送门</a></p>
</blockquote>
<span id="more"></span>
<h1 id="一-前言"><a class="markdownIt-Anchor" href="#一-前言"></a> 一. 前言</h1>
<p>在垃圾回收中，所有东西都是围绕着引用这一概念展开的。引用分为两类，弱引用和强引用，而日常所提到的引用一般都是指强引用。</p>
<h1 id="二-概念"><a class="markdownIt-Anchor" href="#二-概念"></a> 二. 概念</h1>
<p><strong>强引用</strong>：强引用的对象资源永远不会被垃圾回收<br>
<strong>弱引用</strong>：无法阻止弱引用的对象资源被垃圾回收</p>
<h1 id="三-范例"><a class="markdownIt-Anchor" href="#三-范例"></a> 三. 范例</h1>
<p>概念非常绕，以下图为例。<br>
<img src="/2024/01/02/2024-01-02-强引用，弱引用/2024-01-02-强引用，弱引用/images/pasted-0.png" /></p>
<p>图1图2展示了同时存在强弱引用和仅存在弱引用的两种情况，图中实线表示强引用，虚线表示弱引用。<br>
在图1的状态下，变量a，b都能通过引用访问ObjectA，并且由于变量a对ObjectA存在强引用，ObjectA永远都不会被垃圾回收。<br>
但在图2的情况下，对象ObjectA仅有来自于变量b的弱引用，而弱引用是无法阻止他所引用的对象被垃圾回收的，因此对象ObjectA会被垃圾回收，而变量b会指向undefined。</p>
<h1 id="四-范例卡通展示"><a class="markdownIt-Anchor" href="#四-范例卡通展示"></a> 四. 范例（卡通展示）</h1>
<p>可以打一个比方，如下图所示，人物对应的是变量，狗对应的是对象。<br>
强引用相当于人物（变量）和狗（对象）之间栓了一个铁链，弱引用则相当于人物用手指着这条狗，在铁链一直存在的时候，两个人物一直都能看到这条狗（通过引用访问）。而当这条铁链断掉（强引用消失）之后，狗就会跑开（垃圾回收），而指着这条狗的人物（弱引用）并没有办法阻止这条狗的离去，最后会指向空气（undefined）。<br>
<img src="/2024/01/02/2024-01-02-强引用，弱引用/2024-01-02-强引用，弱引用/images/pasted-1.png" /></p>
<h1 id="五-链接"><a class="markdownIt-Anchor" href="#五-链接"></a> 五. 链接</h1>
<blockquote>
<p>弱引用实际用用例：<a href="/2024/01/02/2024-01-02-weakMap,%20weakSet,%20weakRef/2024-01-02-weakMap,%20weakSet,%20weakRef/" title="weakMap, weakSet, weakRef">weakSet, weakMap, weakRef传送门</a></p>
</blockquote>
]]></content>
      <categories>
        <category>文章</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>weakMap, weakSet, weakRef</title>
    <url>/2024/01/02/2024-01-02-weakMap,%20weakSet,%20weakRef/2024-01-02-weakMap,%20weakSet,%20weakRef/</url>
    <content><![CDATA[<blockquote>
<p>前置知识文档：<a href="/2024/01/02/2024-01-02-%E5%BC%BA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%BC%B1%E5%BC%95%E7%94%A8/2024-01-02-%E5%BC%BA%E5%BC%95%E7%94%A8%EF%BC%8C%E5%BC%B1%E5%BC%95%E7%94%A8/" title="强引用，弱引用">强&#x2F;弱引用传送门</a></p>
</blockquote>
<span id="more"></span>
<h1 id="一-weakmap"><a class="markdownIt-Anchor" href="#一-weakmap"></a> 一. weakMap</h1>
<h2 id="概念"><a class="markdownIt-Anchor" href="#概念"></a> 概念</h2>
<p>weakMap是弱引用版的Map，但有非常多的区别。</p>
<ol>
<li>weakMap对他的key是弱引用的，并且key必须得是对象，value则没有限制。</li>
<li>由于weakMap的key是弱引用，我们无法保证key中的某个字段是否已经被垃圾回收，因此weakMap无法对key进行遍历，其所自带方法也仅有delete、get、has、set。</li>
</ol>
<h2 id="例子"><a class="markdownIt-Anchor" href="#例子"></a> 例子</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const map = new Map();</span><br><span class="line">const weakMap = new WeakMap();</span><br><span class="line"></span><br><span class="line">(funtion example()&#123;</span><br><span class="line">  const k1 = &#123;x: 1&#125;;</span><br><span class="line">  const k2 = &#123;y: 2&#125;;</span><br><span class="line">  </span><br><span class="line">  map.set(k1, &#x27;k1&#x27;);</span><br><span class="line">  weakMap.set(k2, &#x27;k2&#x27;);</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">map.forEach((val, key) =&gt; console.log(key, val));</span><br><span class="line">// &#123;x: 1&#125;, &#x27;k1&#x27;</span><br></pre></td></tr></table></figure>
<p>上述例子初始化一个Map和一个weakMap，在立即执行函数中分别引用k1, k2所强引用的对象。当退出立即执行函数时，{x: 1}和{y: 2}<strong>失去了来自于变量k1，k2的强引用</strong>。此时{y: 2}<strong>仅存来自于weakMap的弱引用</strong>，因此，{y: 2}会被垃圾回收。而由于Map对其key值是强引用，因此Map中的内容会一直保存。</p>
<h2 id="使用场景cache"><a class="markdownIt-Anchor" href="#使用场景cache"></a> 使用场景：Cache</h2>
<img src="/2024/01/02/2024-01-02-weakMap, weakSet, weakRef/2024-01-02-weakMap, weakSet, weakRef/images/pasted-0.png" />
<p>在图1所示场景中，路由中间件内给weakMap添加了键值对作为缓存，在这个中间件内我们可以尽情的访问该键值对。而当我们退出这块代码块时完全不用担心内存问题，因为只要weakMap的key值不被全局变量强引用，这块缓存会被自动垃圾回收。</p>
<p>weakMap解决了缓存内存泄露的问题，但是仍有一些不方便的点，比如key值必须得是对象。如果我们想要通过访问简单类型比如string去获取到一些复杂数据时，可以采用Map+weakRef的形式（下述）。</p>
<h1 id="二-weakref"><a class="markdownIt-Anchor" href="#二-weakref"></a> 二. weakRef</h1>
<h2 id="概念-2"><a class="markdownIt-Anchor" href="#概念-2"></a> 概念</h2>
<p>weakRef对象允许我们对另一个对象产生弱引用。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const ref = new WeakRef(object);</span><br><span class="line">// 在object外部包上WeakRef对象，并通过ref变量对该WeakRef对象强引用</span><br><span class="line">// 由于WeakRef对object是弱引用，当ref对其引用清除时，object会被垃圾回收</span><br><span class="line"></span><br><span class="line">const value = ref.deref();</span><br><span class="line">// 从WeakRef对象取出object原始值的方法，若object已被垃圾回收，返回undefined</span><br></pre></td></tr></table></figure>
<h2 id="使用场景复杂内容缓存"><a class="markdownIt-Anchor" href="#使用场景复杂内容缓存"></a> 使用场景：复杂内容缓存</h2>
<img src="/2024/01/02/2024-01-02-weakMap, weakSet, weakRef/2024-01-02-weakMap, weakSet, weakRef/images/pasted-1.png" />
<p>该场景实现了以{name: image}键值对缓存图像数据的方法，其中performExpensiveOperation()是一个开销巨大，且返回复杂对象的一个方法。通过将字符串name作为key，弱引用复杂对象image作为value的方式存入Map作为缓存。</p>
<p>当返回的image对象被函数外部引用时，再次调用该方法会直接返回Map中弱引用的对象。而当外部image对象不再引用，仅存Map对于image对象的弱引用时，该对象会被清除释放内存。</p>
<p>但是此时会有一个问题，当image弱引用对象被清除时，该键值对实际变成了{name: undefined}，image对象被回收，但是name字符串仍然存在。这种情况下可以使用伴随weakRef一起提出的终结器FinalizationRegistry。</p>
<h1 id="三-finalizationregistry"><a class="markdownIt-Anchor" href="#三-finalizationregistry"></a> 三. FinalizationRegistry</h1>
<h2 id="概念-3"><a class="markdownIt-Anchor" href="#概念-3"></a> 概念</h2>
<p>终结器绑定对象定义回调函数，会在该对象被垃圾回收后执行。</p>
<h2 id="语法"><a class="markdownIt-Anchor" href="#语法"></a> 语法</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const registry = new FinalizationRegistry(value =&gt; &#123;</span><br><span class="line">		//…..</span><br><span class="line">	&#125;);</span><br><span class="line">registry.register(object, value);</span><br></pre></td></tr></table></figure>
<h2 id="场景"><a class="markdownIt-Anchor" href="#场景"></a> 场景</h2>
<p>下述例子解决了weakRef栏中name字段没有被清除的问题。<br>
<img src="/2024/01/02/2024-01-02-weakMap, weakSet, weakRef/2024-01-02-weakMap, weakSet, weakRef/images/pasted-2.png" /></p>
<h1 id="四-weakset"><a class="markdownIt-Anchor" href="#四-weakset"></a> 四. weakSet</h1>
<h2 id="概念-4"><a class="markdownIt-Anchor" href="#概念-4"></a> 概念</h2>
<p>weakSet和Set的关系就好比weakMap和Map。weakSet对其中元素保持弱引用并且只能保存对象元素，weakSet仅有has，set，delete三个方法。</p>
<h2 id="使用场景"><a class="markdownIt-Anchor" href="#使用场景"></a> 使用场景</h2>
<p>目前没有发现特别适用于weakSet的使用场景，这玩意感觉没啥大用。</p>
<h1 id="五-使用建议"><a class="markdownIt-Anchor" href="#五-使用建议"></a> 五. 使用建议</h1>
<p>不建议！无法保证垃圾回收什么时候会运行，因此无法保证弱引用内容何时被清理。</p>
<blockquote>
<p><strong>来自MDN：GC在一个JavaScript引擎中的行为有可能在另一个JavaScript引擎中的行为大相径庭，或者甚至在同一类引擎，不同版本中GC的行为都有可能有较大的差距。</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>文章</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>计算几何</title>
    <url>/2024/01/03/2024-01-03-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/2024-01-03-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/</url>
    <content><![CDATA[<p>学习的是清华大学计算机科学与技术系，邓俊辉老师的<a href="https://www.xuetangx.com/course/THU08091000327/16906681?channel=i.area.manual_search">计算几何课程</a>。<br>
持续更新中。。。</p>
<span id="more"></span>
<a href="/2024/01/05/2024-01-05-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95-%E5%87%B8%E5%8C%85%EF%BC%88%E4%B8%80%EF%BC%89/2024-01-05-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95-%E5%87%B8%E5%8C%85%EF%BC%88%E4%B8%80%EF%BC%89/" title="计算几何-凸包（一）">1.计算几何-凸包（一）</a>]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>计算几何</tag>
      </tags>
  </entry>
  <entry>
    <title>bfcache处理</title>
    <url>/2024/01/03/2024-01-03-bfcache%E5%A4%84%E7%90%86/2024-01-03-bfcache%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<p>最近业务上遇到个问题：</p>
<p>项目里有两个app，当页面初始化的时候会跑一段代码codeA将url中的一些参数存储到WebStorage中。</p>
<p>当从appA跳转到appB，然后使用浏览器自带的返回按钮返回appA时，发现WebStorage中的参数还是appB的参数，也就是appA的初始化时的代码codeA没有跑。</p>
<p>查询过后发现是触发了浏览器的bfcache机制。</p>
<span id="more"></span>
<h1 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h1>
<p>bfcache全称back/forward cache，是部分浏览器（pc端测试chrome有但是edge没有）为了提升用户体验添加的一项功能。</p>
<p>bfcache会将页面的所有信息保存在缓存中，包含dom状态以及js堆栈数据。若页面缓存在bfcache中，浏览器在前进后退时会直接取出缓存中的页面信息而不会跑任何常规代码。</p>
<h1 id="解决方案"><a class="markdownIt-Anchor" href="#解决方案"></a> 解决方案</h1>
<p>可以监听页面的pageshow事件，该事件会在页面显示时触发，事件中的persisted为true时表示页面是从缓存中加载的。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.addEventListener(&#x27;pageshow&#x27;, (e) =&gt; &#123;</span><br><span class="line">    if (e.persisted) &#123;</span><br><span class="line">        // 更新WebStorage中数据</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>文章</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>bfcache</tag>
      </tags>
  </entry>
  <entry>
    <title>页面卸载时向后端发送接口</title>
    <url>/2024/01/03/2024-01-03-%E9%A1%B5%E9%9D%A2%E5%8D%B8%E8%BD%BD%E6%97%B6%E5%90%91%E5%90%8E%E7%AB%AF%E5%8F%91%E9%80%81%E6%8E%A5%E5%8F%A3/2024-01-03-%E9%A1%B5%E9%9D%A2%E5%8D%B8%E8%BD%BD%E6%97%B6%E5%90%91%E5%90%8E%E7%AB%AF%E5%8F%91%E9%80%81%E6%8E%A5%E5%8F%A3/</url>
    <content><![CDATA[<p>工作中遇到一个需求，需要在用户关闭或者刷新页面时向后端发送该用户的身份信息。</p>
<p>浏览器页面卸载时会触发beforeunload和unload事件，由于unload限制比较多，因此这里选择了beforeunload。</p>
<p><strong>问题</strong>：常用的异步ajax请求在unload/beforeunload事件内是不可靠的，浏览器可能会无视异步请求从而导致后端收不到。可以使用下述方法。</p>
<span id="more"></span>
<h1 id="1-同步ajax"><a class="markdownIt-Anchor" href="#1-同步ajax"></a> 1. 同步ajax</h1>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.addEventListener(&#x27;beforeunload&#x27;, () =&gt; &#123;</span><br><span class="line">    const url = &#x27;test.com&#x27;;</span><br><span class="line">    const params = &#123; test : &#x27;test&#x27; &#125;; </span><br><span class="line">	$.ajax(&#123;</span><br><span class="line">        type: &#x27;POST&#x27;,</span><br><span class="line">        url: url,</span><br><span class="line">        data: params,</span><br><span class="line">        async: false</span><br><span class="line">    &#125;); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>同步ajax会阻断浏览器的unload，直到ajax环节结束后才会继续进行unload。</p>
<p>此方法的缺点是由于页面会在ajax请求结束后才延迟卸载，会导致关闭时浏览器出现卡顿降低用户的体验。</p>
<p><strong>注意：chrome不支持在页面关闭事件内使用同步XMLHttpRequest请求</strong></p>
<blockquote>
<p><a href="https://chromestatus.com/feature/4664843055398912">Disallow sync XHR in page dismissal - Chrome Platform Status</a></p>
</blockquote>
<h1 id="2-beacon"><a class="markdownIt-Anchor" href="#2-beacon"></a> 2. beacon</h1>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.addEventListener(&#x27;beforeunload&#x27;, () =&gt; &#123;</span><br><span class="line">    const url = &#x27;test.com&#x27;;</span><br><span class="line">    const params = &#123; test : &#x27;test&#x27; &#125;; </span><br><span class="line">	navigator.sendBeacon(url, JSON.stringfy(params));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>beacon api设计就是用来解决页面卸载时发送请求的问题。他能保证在页面unload完成前请求能够被发送，并且由于其是异步且非阻塞的，并不会影响浏览器其他页面的显示效率。</p>
<p>sendBeacon只能发送http post请求。</p>
<p>问题：此方法无法自定义header信息，如果服务端设置了token权限拦截，sendBeacon并没有办法将token信息放入请求中。</p>
<h1 id="3-fetch"><a class="markdownIt-Anchor" href="#3-fetch"></a> 3. fetch</h1>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.addEventListener(&#x27;beforeunload&#x27;, () =&gt; &#123;</span><br><span class="line">    const url = &#x27;test.com&#x27;;</span><br><span class="line">    const params = &#123; test : &#x27;test&#x27; &#125;; </span><br><span class="line"></span><br><span class="line">    const headers = new Headers();</span><br><span class="line">    headers.append(&#x27;content-type&#x27;, &#x27;application/json&#x27;);</span><br><span class="line">    headers.append(&#x27;token&#x27;, &#x27;token&#x27;);        </span><br><span class="line">    </span><br><span class="line">    fetch(url, &#123;</span><br><span class="line">        method: &#x27;POST&#x27;,</span><br><span class="line">        headers: headers,</span><br><span class="line">        body: JSON.stringify(params),</span><br><span class="line">        // 重要！！！</span><br><span class="line">        keepalive: true,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>fetch方法配合参数中的<strong>keepalive</strong>字段会让浏览器在页面卸载后在后台继续接管网络请求，该字段是必须的。</p>
<p>此方法的缺陷为keepalive字段一次只能承载最大64KB的请求内容，且该限制是所有并行请求共享的，即，页面卸载阶段所有fetch+keepalive请求的内容体总和不能超过64KB。</p>
<h1 id="参考文章"><a class="markdownIt-Anchor" href="#参考文章"></a> 参考文章</h1>
<blockquote>
<p><a href="https://usefulangle.com/post/62/javascript-send-data-to-server-on-page-exit-reload-redirect">Sending AJAX Data when User Moves Away / Exits from Page</a><br>
<a href="https://javascript.info/fetch-api">Fetch API</a><br>
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch">使用 Fetch - Web API 接口参考 | MDN</a><br>
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/sendBeacon">Navigator.sendBeacon() - Web API 接口参考 | MDN</a><br>
<a href="https://stackoverflow.com/questions/63157089/sending-post-request-with-fetch-after-closing-the-browser-with-beforeunload">javascript - Sending POST request with Fetch after closing the browser with ‘beforeunload’ / ‘unload’ eventlistener is not working - Stack Overflow</a></p>
</blockquote>
]]></content>
      <categories>
        <category>文章</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>计算几何-凸包（二）</title>
    <url>/2024/01/08/2024-01-08-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95-%E5%87%B8%E5%8C%85%EF%BC%88%E4%BA%8C%EF%BC%89/2024-01-08-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95-%E5%87%B8%E5%8C%85%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h2 id="1极性extremity的概念"><a class="markdownIt-Anchor" href="#1极性extremity的概念"></a> 1.极性（Extremity）的概念</h2>
<img src="/2024/01/08/2024-01-08-计算几何-凸包（二）/2024-01-08-计算几何-凸包（二）/images/pasted-0.png" width=300/>
<p>在如图所示的一个凸包内，存在两种点，对构成凸包有实质作用的点（蓝色）和没有实质作用的点（绿色）。而对构成凸包有实质作用的点则被称为<strong>极点（Extreme Points）。</strong></p>
<p>极点存在一个特性：存在一条穿过极点的直线，使得凸包内所有点都在这条线的同一侧。</p>
<h2 id="2判断极点的方法"><a class="markdownIt-Anchor" href="#2判断极点的方法"></a> 2.判断极点的方法</h2>
<h3 id="1in-triangle-test"><a class="markdownIt-Anchor" href="#1in-triangle-test"></a> 1.In-Triangle Test</h3>
<img src="/2024/01/08/2024-01-08-计算几何-凸包（二）/2024-01-08-计算几何-凸包（二）/images/pasted-1.png" width=300/>
<p>取一个点，枚举其余点集可产生的所有三角形，判断该点是否包含于某个三角形内，如果不存在，则该点为极点。伪代码如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for (const Point of AllPoints) &#123;</span><br><span class="line">    Point.ifExtreme = true</span><br><span class="line">    for (const Triangle of AllTriangles) &#123;</span><br><span class="line">      // 只要存在包含该点的三角形，则此点不是极点</span><br><span class="line">      if (Triangle.contains(Point)) &#123;</span><br><span class="line">        Point.ifExtreme = false</span><br><span class="line">        break</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该方法复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>4</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，其中计算AllTriangles时间复杂度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，效率极差。</p>
<h4 id="11-to-left-test"><a class="markdownIt-Anchor" href="#11-to-left-test"></a> 1.1 To-Left Test</h4>
<img src="/2024/01/08/2024-01-08-计算几何-凸包（二）/2024-01-08-计算几何-凸包（二）/images/pasted-2.png" width=300/>
<p>实现Triangle.contains(Point)可用<strong>To-Left Test</strong>方法。此方法将三角形三个点按照逆时针首尾相连的到三条直线，然后判断对于这三条直线来说，是否Point全在直线左侧。</p>
<p>判断点是否在线段左侧可通过判断这三个点逆时针所形成的三角的有向面积是否大于0，公式如下</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mrow><mo fence="true">∣</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>p</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>q</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>q</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">S=\frac{1}{2}\begin{vmatrix}
p_x&amp;p_y&amp;1\\
q_x&amp;q_y&amp;1\\
s_x&amp;s_y&amp;1
\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.64199em;vertical-align:-1.5500299999999998em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0919600000000003em;"><span style="top:-1.05597em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-1.65697em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.2579700000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.8589700000000002em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.45997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-3.4909600000000003em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-4.09196em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500299999999998em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: Expected &amp; or \\ or \cr or \end at end of input: \begin{matrix}
'>\begin{matrix}
</p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>凸包</tag>
      </tags>
  </entry>
  <entry>
    <title>计算几何-凸包（一）</title>
    <url>/2024/01/05/2024-01-05-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95-%E5%87%B8%E5%8C%85%EF%BC%88%E4%B8%80%EF%BC%89/2024-01-05-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95-%E5%87%B8%E5%8C%85%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h2 id="1定义"><a class="markdownIt-Anchor" href="#1定义"></a> 1.定义</h2>
<p><strong>凸包（Convex Hull）</strong>：凸包指的是包含一组点集合中所有点的最小凸多边形或凸多面体。简而言之，凸包是一个尽可能紧密包围给定点集的凸形状。橡皮筋绷紧后形成的一个凸多边形就是一个凸包。<br>
<img src="/2024/01/05/2024-01-05-计算几何-凸包（一）/2024-01-05-计算几何-凸包（一）/images/pasted-0.png" /></p>
<p><strong>凸集（Convex Set）</strong>： 凸集是一个具有特定性质的点集合，即对于该集合内的任意两点，连接这两点的线段上的所有点也都在该集合内。凸包是一个给定点的最小凸集。</p>
<p><strong>凸组合（Convex Combination）</strong>： 凸组合是指在向量空间中取一组向量，并用非负的标量权重对这些向量线性组合，使得权重之和等于 1。一个点集的凸包是由该点集生成的所有可能凸组合组成的集合。例如在两个点AB组成的线段作为凸包的场景中，凸组合可为AB间的任意一点。而所有的凸组合的点构成了 AB 这个凸包线段。又比如在ABC形成的三角中，凸组合可为三角内部的任意一点，而这些点集组合成了 ABC 这个凸包。</p>
<span id="more"></span>
<h2 id="2数学解释"><a class="markdownIt-Anchor" href="#2数学解释"></a> 2.数学解释</h2>
<h3 id="21二维二点凸包"><a class="markdownIt-Anchor" href="#21二维二点凸包"></a> 2.1二维二点凸包</h3>
<p>二维直角坐标系内有AB两点，凸包线段AB内上的任意凸组合点R都能通过下面公式得出</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mi>x</mi></msub><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><msub><mi>A</mi><mi>x</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msub><mi>B</mi><mi>x</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mi>y</mi></msub><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><msub><mi>A</mi><mi>y</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msub><mi>B</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
R_x = \lambda _1A_x + \lambda _2B_x\\
R_y = \lambda _1A_y + \lambda _2B_y\\
1 = \lambda _1 + \lambda _2 
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.9099999999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35002em;"><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.19499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.2950099999999996em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9099999999999997em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>以下图所为例，在AB组成的线段凸包内，求X凸组合的权重，可列公式</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>∗</mo><mn>1</mn><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1.5</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>∗</mo><mn>2</mn><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo>∗</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
2 = \lambda _1 * 1 + \lambda _2 * 3 \\
1.5 = \lambda _1 * 2 + \lambda _2 * 1\\
1 = \lambda _1 + \lambda _2 
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.9099999999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35002em;"><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.19499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.2950099999999996em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mord">.</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9099999999999997em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<img src="/2024/01/05/2024-01-05-计算几何-凸包（一）/2024-01-05-计算几何-凸包（一）/images/pasted-3.png" width=300/>
最终求得
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>λ</mi><mn>1</mn></msub><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>λ</mi><mn>2</mn></msub><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
\lambda _1  = \frac{1}{2}\\
\lambda _2  = \frac{1}{2}
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h3 id="22二维三点凸包"><a class="markdownIt-Anchor" href="#22二维三点凸包"></a> 2.2二维三点凸包</h3>
<p>把ABC放入一个二维直角坐标系内，凸包ABC内上的任意凸组合点R都能通过下面公式得出</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mi>x</mi></msub><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><msub><mi>A</mi><mi>x</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msub><mi>B</mi><mi>x</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><msub><mi>C</mi><mi>x</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mi>y</mi></msub><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><msub><mi>A</mi><mi>y</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msub><mi>B</mi><mi>y</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><msub><mi>C</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
R_x = \lambda _1A_x + \lambda _2B_x + \lambda _3C_x\\
R_y = \lambda _1A_y + \lambda _2B_y + \lambda _3C_y\\
1 = \lambda _1 + \lambda _2 + \lambda _3
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.9099999999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35002em;"><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.19499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.2950099999999996em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9099999999999997em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>如下图所示，在ABC组成的三角凸包内，求X凸组合的权重，可列公式</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>∗</mo><mn>1</mn><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo>∗</mo><mn>3</mn><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><mo>∗</mo><mn>2</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>∗</mo><mn>2</mn><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo>∗</mo><mn>1</mn><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><mo>∗</mo><mn>3</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
2 = \lambda _1 * 1 + \lambda _2 * 3 + \lambda _3 * 2\\
2 = \lambda _1 * 2 + \lambda _2 * 1 + \lambda _3 * 3\\
1 = \lambda _1 + \lambda _2 + \lambda _3
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.9099999999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35002em;"><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.19499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.2950099999999996em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">3</span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9099999999999997em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<img src="/2024/01/05/2024-01-05-计算几何-凸包（一）/2024-01-05-计算几何-凸包（一）/images/pasted-4.png" width=300/>
最终求得
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>λ</mi><mn>1</mn></msub><mo>=</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>λ</mi><mn>2</mn></msub><mo>=</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>λ</mi><mn>3</mn></msub><mo>=</mo><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
\lambda _1  = \frac{1}{3}\\
\lambda _2  = \frac{1}{3}\\
\lambda _3  = \frac{1}{3}
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.9099999999999997em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35002em;"><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.19499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.2950099999999996em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.5300000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9099999999999997em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h3 id="23三维凸包"><a class="markdownIt-Anchor" href="#23三维凸包"></a> 2.3三维凸包</h3>
<p>三维同上，只是加上了z轴分量</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mi>x</mi></msub><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><msub><mi>A</mi><mi>x</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msub><mi>B</mi><mi>x</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><msub><mi>C</mi><mi>x</mi></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mi>y</mi></msub><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><msub><mi>A</mi><mi>y</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msub><mi>B</mi><mi>y</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><msub><mi>C</mi><mi>y</mi></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mi>z</mi></msub><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><msub><mi>A</mi><mi>z</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><msub><mi>B</mi><mi>z</mi></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><msub><mi>C</mi><mi>z</mi></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>=</mo><msub><mi>λ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>3</mn></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
R_x = \lambda _1A_x + \lambda _2B_x + \lambda _3C_x + ...\\
R_y = \lambda _1A_y + \lambda _2B_y + \lambda _3C_y + ...\\
R_z = \lambda _1A_z + \lambda _2B_z + \lambda _3C_z + ...\\
1 = \lambda _1 + \lambda _2 + \lambda _3 + ...
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.76em;vertical-align:-2.63em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9500200000000008em;"><span style="top:-1.59999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.5949900000000001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-1.8899900000000003em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.1849900000000004em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.2049900000000004em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.1500100000000004em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.29501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.59001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.885010000000001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.905010000000001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-5.20002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.1300000000000003em;"><span style="top:-5.130000000000001em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-3.6900000000000004em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-0.8100000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.63em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>计算几何</tag>
        <tag>凸包</tag>
      </tags>
  </entry>
  <entry>
    <title>blender转换pmx模型到glb材质问题记录</title>
    <url>/2024/01/20/2024-01-20-blender%E8%BD%AC%E6%8D%A2pmx%E6%A8%A1%E5%9E%8B%E5%88%B0gltf%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/2024-01-20-blender%E8%BD%AC%E6%8D%A2pmx%E6%A8%A1%E5%9E%8B%E5%88%B0gltf%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>记录一下使用blender以及插件mmd_tools转换pmx模型为gltf，并用threejs的GLTFLoader加载时遇到的一些问题。</p>
<span id="more"></span>
<h2 id="1加载后材质为黑色"><a class="markdownIt-Anchor" href="#1加载后材质为黑色"></a> 1.加载后材质为黑色</h2>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-0.png" width=300 />
<p>这是由于材质没有转换成blender材质导致的，需要在mmd_tools中点击<strong>转换给blender</strong>按钮（老版本mmd_tools为convert to material cycles)</p>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-1.png" />
<h2 id="2加载后出现多余的五颜六色的形体"><a class="markdownIt-Anchor" href="#2加载后出现多余的五颜六色的形体"></a> 2.加载后出现多余的五颜六色的形体</h2>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-2.png" width=300 />
<p>这是由于刚体也被导出了，需要在blender导出为gltf的时候选中画布内模型，并勾选<strong>选定的物体</strong>选项。</p>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-3.png" />
<h2 id="3加载后模型部分不显示且半透明"><a class="markdownIt-Anchor" href="#3加载后模型部分不显示且半透明"></a> 3.加载后模型部分不显示且半透明</h2>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-5.gif" width=400 />
<p>查看模型材质信息发现所有的材质的transparent都设置成了true，depth write设置成了false。查看threejs的GLTFLoader源码后发现了这一段</p>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-4.png" />
<p>查看gltf文件的材质信息后发现alphaMode果然都设置为了BLEND,这表示为透明材质</p>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-5.png" width=300/>
<p>需要在blender中将所有的非透明材质的Blend Mode都设置为Opaque</p>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-6.png" width=400/>
<h3 id="最后-完美"><a class="markdownIt-Anchor" href="#最后-完美"></a> <strong>最后。。。。完美</strong></h3>
<img src="/2024/01/20/2024-01-20-blender转换pmx模型到gltf问题记录/2024-01-20-blender转换pmx模型到gltf问题记录/images/pasted-7.png" width=400/>
]]></content>
      <categories>
        <category>踩坑记录</category>
      </categories>
      <tags>
        <tag>blender</tag>
        <tag>threejs</tag>
      </tags>
  </entry>
</search>
